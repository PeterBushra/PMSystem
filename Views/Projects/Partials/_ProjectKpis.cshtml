@model Jobick.ViewModels.ProjectDetailsVM
@{
    var allTasksCompleted = (bool)(ViewData["AllTasksCompleted"] ?? false);
}
<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <div class="d-flex flex-row flex-wrap justify-content-between align-items-stretch">
                    <div class="static-icon text-center flex-fill m-2 kpi-box">
                        <span><i class="fas fa-tasks"></i></span>
                        <h3 class="count mb-0">@Model.KPIs.TotalTasks</h3>
                        <p class="mb-0">إجمالي المهام</p>
                    </div>
                    <div class="static-icon text-center flex-fill m-2 kpi-box">
                        <span><i class="fas fa-check-circle text-success"></i></span>
                        <h3 class="count mb-0">@Model.KPIs.CompletedTasks</h3>
                        <p class="mb-0">المهام المكتملة</p>
                    </div>
                    <div class="static-icon text-center flex-fill m-2 kpi-box">
                        <span><i class="fas fa-clock text-warning"></i></span>
                        <h3 class="count mb-0">@Model.KPIs.NotStartedTasks</h3>
                        <p class="mb-0">لم تبدأ</p>
                    </div>
                    <div class="static-icon text-center flex-fill m-2 kpi-box">
                        <span><i class="fas fa-exclamation-triangle text-danger"></i></span>
                        <h3 class="count mb-0">@Model.KPIs.OverdueTasks</h3>
                        <p class="mb-0">متأخرة</p>
                    </div>
                    @if (!allTasksCompleted)
                    {
                        <div class="static-icon text-center flex-fill m-2 kpi-box">
                            <span><i class="fas fa-calendar-alt"></i></span>
                            <h3 class="count mb-0">@Model.KPIs.DaysRemaining</h3>
                            <p class="mb-0">الأيام المتبقية حتى نهاية المشروع</p>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>